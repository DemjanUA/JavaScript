<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Chapter №n | Конструкции: ветвления и циклы</title>
    <link rel="shortcut icon" href="../images/logo.ico">
    <link rel="stylesheet" href="../css/main.css">
    <!--Fonts-->
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,500,500i,700,700i" rel="stylesheet">

    <link rel="stylesheet" href="../css/atom-one-dark.css">
</head>
<body>
<div class="wrapper">
    <header>
        <a href="/" class="logo">
         <img src="../images/logo.svg" alt="logotype">
        </a>
    </header>
    <main>
        <h1 class="title">Конструкции: ветвления и циклы</h1>
        <h3 class="content-list">Содержание</h3>
        <ul class="plan">
            <li><a href="#s1">Вступление</a></li>
            <li><a href="#s2">Операции отношения</a></li>
            <li><a href="">Ветвления</a></li>
            <li><a href="">Объект Math</a></li>
            <li><a href="">Циклы</a></li>
            <li><a href="">Инструкции перехода: break, continue. Метки</a></li>
            <li><a href="">Логические операции</a></li>
        </ul>
        <section class="clearfix" id="s1">
            <article class="main-article fl">
                <h3>1. Вступление</h3>
                <p>
                    Лишь немногие из программ выполняются последовательно от первого оператора к последнему. Как и большинство людей, программы определяют порядок своих действий в зависимости от меняющихся обстоятельств. В программе предусмотрены переходы из одной части программы в другую в зависимости от выполнения или невыполнения некоторого условия. Инструкции, реализующие подобные переходы(поведение) делятся на две основные категории: <strong>циклы и ветвления</strong>.
                </p>
                <p>
                    Количество выполнений цикла, а также выполнение или невыполнение определенной части программы зависит от истинности или ложности вычисляемого выражения. Как правило, такие выражения содержат особый тип операций, называемых операциями отношения, сравнивающими два значения. Поскольку и циклы, и ветвления тесно связаны с операциями отношения, то в первую очередь мы займемся рассмотрением последних.
                </p>
            </article>
        </section>
        <section class="clearfix" id="s2">
            <article class="main-article fl">
                <h3>2. Операции отношения</h3>
                <p>
                    Операция отношения сравнивает между собой два значения. Сравнение устанавливает одно из четырех возможных отношений между переменными:<br>
                    - больше;<br>
                    - меньше;<br>
                    - равенство(эквивалентность);<br>
                    - строгое равенство(идентичность).<br>
                </p>
                <p>
                    Результатом сравнения является значение истина или ложь. Например, две величины могут быть равны (истина) или не равны (ложь).<br><br>
                    <u>Пример</u>
                </p>
<pre><code class="javascript">'use strict';
 var a = prompt('Введите значение a: ', '');
 console.log('a < 10 -', a < 10);
 console.log('a > 10 -', a > 10);
 console.log('a == 10 -', a = 10);
 console.log('a != 10 -', a ≠ 10);
</code></pre>
                <p>
                    Первое выражение истинно в том случае, если значение a меньше, чем 10;
                    второе — тогда, когда a больше, чем 10; третье — когда a равно 10. и наконец a не равно 10. Как можно видеть из результата работы программы, интерпретатор JavaScript возвращает на место операции отношения значение true или false.
                </p>
                <h4>Сравнение разных типов</h4>
                <p>
                    При сравнении значений разных типов, используется <strong>числовое преобразование</strong> за правилами преобразование типов. Оно применяется к обоим значениям.<br><br>
                    <u>Пример</u>
                </p>
<pre><code class="javascript">'use strict';
alert( '2' > 1 ); // true, сравнивается как 2 > 1
alert( '01' == 1 ); // true, сравнивается как 1 == 1
alert( false == 0 ); // true, false становится числом 0
alert( true == 1 ); // true, так как true становится числом 1.
</code></pre>
                <h4>Строгое равенство</h4>
                <p>
                    В обычном операторе == есть «проблема» – он не может отличить 0 от false:
                </p>
<pre><code class="javascript">'use strict';
alert( 0 == false );  // true
</code></pre>
                <p>
                    Та же ситуация с пустой строкой:
                </p>
<pre><code class="javascript">'use strict';
alert( 0 == false );  // true
</code></pre>
                <p>
                    Это естественное следствие того, что операнды разных типов преобразовались к числу. Пустая строка, как и false, при преобразовании к числу дают 0.
                </p>
                <p>
                    Что же делать, если всё же нужно отличить 0 от false?
                </p>
                <p>
                    <strong>Для проверки равенства без преобразования типов используются операторы строгого равенства === (тройное равно) и !==.</strong>
                </p>
                <p>
                   Если тип разный, то они всегда возвращают false:
                </p>
<pre><code class="javascript">'use strict';
alert( 0 === false ); // false, т.к. типы различны
</code></pre>
                </p>
                <p>
                    Строгое сравнение предпочтительно, если мы хотим быть уверены, что «сюрпризов» не будет.
                </p>
            </article>
            <article class="side-article fr">
                <h3>Сравнение с null и undefined</h3>
                <p>
                    Проблемы со специальными значениями возможны, когда к переменной применяется операция сравнения > < <= >=, а у неё может быть как численное значение, так и null/undefined.
                </p>
                <p>
                    <strong>Интуитивно кажется, что null/undefined эквивалентны нулю, но это не так.</strong>
                </p>
                <p>
                    Они ведут себя по-другому.<br>
                    1. Значения null и undefined равны == друг другу и не равны чему бы то ни было ещё. Это жёсткое правило буквально прописано в спецификации языка.<br>
                    2. При преобразовании в число null становится 0, а undefined становится NaN.
                </p>
                <p>
                    Посмотрим забавные следствия.
                </p>
                <h4>Некорректный результат сравнения null с 0</h4>
                <p>
                    Сравним null с нулём:
                </p>
<pre><code class="javascript">'use strict';
alert( null > 0 ); // false
alert( null == 0 ); // false
</code></pre>
                <p>
                    И так, мы получили, что null не больше и не равен нулю. А теперь…
                </p>
<pre><code class="javascript">'use strict';
alert( null >= 0 ); // true
</code></pre>
                <p>
                    Как такое возможно? Если нечто «больше или равно нулю», то резонно полагать, что оно либо больше, либо равно. Но здесь это не так.
                </p>
                <p>
                    Дело в том, что алгоритмы проверки равенства == и сравнения >= > < <= работают по-разному.
                </p>
                <p>
                    Сравнение честно приводит к числу, получается ноль. А при проверке равенства значения null и undefined обрабатываются особым образом: они равны друг другу, но не равны чему-то ещё.
                </p>
                <p>
                    В результате получается странная с точки зрения здравого смысла ситуация, которую мы видели в примере выше.
                </p>
                <h4>Несравнимый undefined</h4>
                <p>
                    Значение undefined вообще нельзя сравнивать:
                </p>
<pre><code class="javascript">'use strict';
alert( undefined > 0 ); // false (1)
alert( undefined < 0 ); // false (2)
alert( undefined == 0 ); // false (3)
</code></pre>
                <p>
                    - Сравнения (1) и (2) дают false потому, что undefined при преобразовании к числу даёт NaN. А значение NaN по стандарту устроено так, что сравнения ==, <, >, <=, >= и даже === с ним возвращают false.<br>
                    - Проверка равенства (3) даёт false, потому что в стандарте явно прописано, что undefined равно лишь null и ничему другому.
                </p>
                <p>
                    <strong>Вывод: любые сравнения с undefined/null, кроме точного ===, следует делать с осторожностью.</strong>
                </p>
                <p>
                    Желательно не использовать сравнения >= > < <= с ними, во избежание ошибок в коде.
                </p>
            </article>
        </section>
        <section class="clearfix">
            <article class="main-article fl">
                <h3>3. Ветвления</h3>
                    <p>
                        В программе решение, или ветвление, сводится к переходу в другую часть программы в зависимости от значения соответствующего выражения.
                    </p>
                    <p>
                        В JavaScript существует несколько типов ветвлений, наиболее важным из которых является if...else, осуществляющее выбор между двумя альтернативами. В инструкции ветвления if...else использование else не является обязательным. Для выбора одной из множества альтернатив используется инструкция ветвления switch(switch Statement), действие которого определяется набором значений соответствующей переменной. Кроме того, существует так называемая условная операция, используемая внекоторых особых ситуациях. Мы рассмотрим каждую из этих конструкций.
                    </p>
                    <h4>3.1 The if Statement/Инструкция if</h4>
                    <h4>Оператор if</h4>
                    <p>
                        Оператор <strong>if</strong> является наиболее простым из операторов ветвлений. Следующии примеры иллюстрируют применение оператора if.<br><br>
                        <u>Пример</u>
                    </p>
<pre><code class="javascript">'use strict';
var a = prompt('Введите значение a: ', '');
if ( a > 100 )
    alert('Это число больше, чем 100');
</code></pre>
            <p>
                За ключевым словом if следует условие ветвления, заключенное в круглые скобки. Оператор <strong>if (...) вычисляет и преобразует выражение в скобках к логическому типу.</strong><br><br>
                <u>Пример</u>
            </p>
<pre><code class="javascript">'use strict';
var year = prompt('В каком году появилась спецификация ECMA-262 5.1?', '');
if (year != 2011)
    alert( 'А вот и неправильно!' );
</code></pre>
            <p>
                Оператор if («если») получает условие, в примере выше это year != 2011. Он вычисляет его, и если результат – true, то выполняет команду.
            </p>
            <h4>Несколько операторов в теле if</h4>
            <p>
                Если нужно выполнить более одной команды – они оформляются блоком кода в фигурных скобках:<br><br>
                <u>Пример</u>
            </p>
<pre><code class="javascript">'use strict';
if (year != 2011) {
    alert( 'А вот..' );
    alert( '..и неправильно!' );
}
</code></pre>
                <p>
                    <u>Пример</u>
                </p>
<pre><code class="javascript">'use strict';
var x = prompt('Введите число: ', '');
if (x > 100) {
    alert('Число ', x);
    alert('больше, чем 100');
}
</code></pre>
                <p>
                    <strong>Рекомендуется использовать фигурные скобки всегда, даже когда команда одна.</strong>
                </p>
                <p>
                    Это улучшает читаемость кода.
                </p>
                <p>
                    Синтаксис оператора if показан на рисунке:
                </p>
                <div class="article-images small-img">
                    <img src="images/if syntax images.jpg" alt="">
                </div>
                <h4>Оператор if...else</h4>
                <p>
                    Оператор if позволяет совершать действие в том случае, если выполняется некоторое условие. Если же условие не выполняется, никакого действия не выполняется. Однако можно представить такую ситуацию, когда нам необходимо совершить одно действие в случае выполнения условия и другое действие в случае невыполнения этого условия. Здесь оказывается полезным ветвление <strong>if...else</strong>. Оно состоит из оператора if, за которым следует блок операторов, и ключевого слова else, за которым следует еще  один блок операторов. Синтаксис ветвления показан на рисунке:
                </p>
                <div class="article-images small-img">
                    <img src="images/if else syntax images.jpg" alt="">
                </div>
                <p>
                    <br>
                    <u>Пример</u>
                </p>
<pre><code class="javascript">'use strict';
var a = prompt('Введите число: ', '');
if (a > 100)
    alert('Это число больше, чем 100');
else
    alert('Это число не больше, чем 100');
</code></pre>
                <p>
                    <u>Пример</u>
                </p>
<pre><code class="javascript">'use strict';
var year = prompt('Введите год появления стандарта ECMA-262 5.1', '');
if (year == 2011) {
    alert( 'Да вы знаток!' );
} else {
    alert( 'А вот и неправильно!' ); // любое значение, кроме 2011
}
</code></pre>
                <p>
                    В зависимости от истинности или ложности условия ветвления, программа выводит соответствующее сообщение.
                </p>
                <h4>Вложенные ветвления if...else</h4>
                <p>
                    Возможно, вам приходилось видеть приключенческие игры, предназначенные для ранних версий MS DOS. Их суть заключалась в следующем: играющий двигал своего «героя» по воображаемому ландшафту и замкам среди волшебников, сокровищ и т. д.,  с помощью текстовых символов. Следующии пример, напоминает небольшую часть такой приключенческой игры. <br><br>
                    <u>Пример</u>
                </p>
<pre><code class="javascript">'use strict';
var x = 10, y = 10, position = '';
alert('Ввдите \'end\' для выхода...');
if (position != 'end') {
    alert('Ваши координаты: ' + x + ',' + y);
    position = prompt('Выберите направление (n, s, e, w): ', '');
    if (position == 'n') // движение на север
        y--;
    else
        if (position == 's') // движение на юг
            y++;
        else
            if (position == 'e') // движение на восток
                x++;
            else
                if (position == 'w') // движение на запад
            		x--;
alert('Ваши координаты: ' + x + ',' + y);
}
</code></pre>
            <p>
                Когда игра начинается, вы оказываетесь на бесплодном участке земли. Вы можете передвигаться на север, юг, запад и восток, а программа будет следить за вашими передвижениями и сообщать ваши текущие координаты. Начало дви­жения находится в точке с координатами (10, 10). С вашим героем не будет происходить ничего интересного, куда бы он ни пошел; пустая земля простира­ется во всех направлениях, как видно на рисунке:
            </p>
            <div class="article-images small-img-7">
                <img src="images/if else example images.jpg" alt="">
            </div>
            <p>
                Для выхода из программы нужно ввести слово ‘end’.
            </p>
            <p>
                Данная програма не являеться шедевром среди видеоигр, однако в ней демонстрируется применение вложенных ветвлений. Так, оператор if находится внутри оператора if...else, который, в свою очередь, также является частью ветвления if...else. Если первое условие не выполняется, то проверяется второе условие и т. д. до тех пор, пока не будут проверены все условия. Если какое-либо из условий выполняется, то изменяется соответствующая координата x или у, после чего программа выходит из всех вложенных ветвлений. Подобные вложенные группы ветвлений называются <strong>деревом ветвлений</strong>.
            </p>
            <h4>Конструкция else...if</h4>
            <p>
                Вложенные ветвления if...else выглядят несколько неуклюже и могут представлять трудность для восприятия, особенно если глубина вложенности больше или тело оператора if...else является блоком кода. <br><br>
                <u>Пример</u>
            </p>
<pre><code class="javascript">'use strict';
var x = 10, y = 10, position = '';
alert('Ввдите \'end\' для выхода...');
if (position != 'end') {
    alert('Ваши координаты: ' + x + ',' + y);
    position = prompt('Выберите направление (n, s, e, w): ', '');
    if (position == 'n') { // движение на север
        y--;
        console.log('go north');
    } else {
        if (position == 's') { // движение на юг
            y++;
            console.log('go south');
        } else {
            if (position == 'e') { // движение на восток
         		x++;
                console.log('go east');
            } else {
                if (position == 'w') {  // движение на запад
                    x--;
                    console.log('go west');
                }
            }
        }
    }
alert('Ваши координаты: ' + x + ',' + y);
}   
</code></pre>
            <p>
                Существует еще один вариант записи этих же действий. Необходимо только немного изменить последовательность записи кода программы. В результате получим следующий пример:<br><br>
                <u>Пример</u>
            </p>
<pre><code class="javascript">'use strict';
var x = 10, y = 10, position = '';
alert('Ввдите \'end\' для выхода...');
if (position != 'end') {
    alert('Ваши координаты: ' + x + ',' + y);
    position = prompt('Выберите направление (n, s, e, w): ', '');
    if (position == 'n') { // движение на север
        y--;
        console.log('go north');
    } else if (position == 's') { // движение на юг
            y++;
            console.log('go south');
        } else if (position == 'e') { // движение на восток
         		x++;
                console.log('go east');
            } else if (position == 'w') {  // движение на запад
                    x--;
                    console.log('go west');
                }           		   
}
alert('Ваши координаты: ' + x + ',' + y);
</code></pre>
                <p>
                    У вас может создаться впечатление, что мы использовали новый вид ветвления else...if. Программа последовательно исполняет блоки else...if до тех пор, пока не выполнится хотя бы одно из проверяемых условий. Затем исполняется соответствующий оператор и производится выход из ветвлений. Такой способ представления вложенных ветвлений гораздо проще и удобнее для понимания, чем обычная последовательность конструкций if...else.
                </p>
                <h4>Условная операция, тернарный оператор(Conditional Operator)</h4>
                <p>
                    В этом разделе пойдет разговор об операции, выполняющей несколько нетипичные действия. Существует распространенная в программировании ситуация: переменной необходимо присвоить одно значение в случае выполнения некоторого условия и другое значение в случае невыполнения этого условия. В следующем примере переменной min присваивается наименьшее из значений alpha и beta с помощью конструкции if...else:
                    <br><br>
                    <u>Пример</u>
                </p>
<pre><code class="javascript">'use strict';
var alpha = 1, beta = 2;
if (alpha < beta) {
    min = alpha;
} else {
    min = beta;
}
</code></pre>
                <p>
                    Подобные действия на практике оказались настолько распространенными, что была специально разработана условная операция, выполняющая эти действия. Эта операция записывается с помощью двух знаков и использует три операнда. Она является единственной операцией в JavaScript, использующей более двух операндов. С помощью условной операции можно записать предыдущий фрагмент следующим образом:
                </p>
            </article>
        </section>
    </main>
    <footer></footer>
</div>
<script src="../js/highlight.pack.js"></script>
<script src="../js/highlightjs-line-numbers.js"></script>
<script>
    hljs.initHighlightingOnLoad();
    hljs.initLineNumbersOnLoad();
</script>
</body>
</html>

<!--
    <div class="article-images">
        <img src="images/web publishing.png" alt="">
    </div>
-->